---
layout: default
title: Checkout - Roza Bridal
---

<div class="checkout-container">
  <div class="checkout-form">
    <h2>Checkout</h2>
    
    <div class="checkout-section">
      <h3>Contact Information</h3>
      <div class="form-group">
        <label for="checkout-email">Email</label>
        <input type="email" id="checkout-email" required>
      </div>
      <div class="form-group">
        <label for="checkout-phone">Phone</label>
        <input type="tel" id="checkout-phone" required>
      </div>
    </div>
    
    <div class="checkout-section">
      <h3>Shipping Address</h3>
      <div class="form-group">
        <label for="checkout-name">Full Name</label>
        <input type="text" id="checkout-name" required>
      </div>
      <div class="form-group">
        <label for="checkout-address">Address</label>
        <input type="text" id="checkout-address" required>
      </div>
      <div class="form-group">
        <label for="checkout-apartment">Apartment, suite, etc. (optional)</label>
        <input type="text" id="checkout-apartment">
      </div>
      <div class="form-row">
        <div>
          <label for="checkout-city">City</label>
          <input type="text" id="checkout-city" required>
        </div>
        <div>
          <label for="checkout-state">State/Province</label>
          <input type="text" id="checkout-state" required>
        </div>
        <div>
          <label for="checkout-postal">Postal Code</label>
          <input type="text" id="checkout-postal" required>
        </div>
      </div>
      <div class="form-group">
        <label for="checkout-country">Country</label>
        <select id="checkout-country" required>
          <option value="">Select Country</option>
          <option value="US">United States</option>
          <option value="CA">Canada</option>
          <option value="GB">United Kingdom</option>
          <option value="AU">Australia</option>
          <!-- Add more countries as needed -->
        </select>
      </div>
    </div>
    
    <div class="checkout-section">
      <h3>Payment Method</h3>
      <div class="form-group">
        <label for="card-number">Card Number</label>
        <input type="text" id="card-number" placeholder="1234 5678 9012 3456" required>
      </div>
      <div class="form-row">
        <div>
          <label for="card-expiry">Expiration Date</label>
          <input type="text" id="card-expiry" placeholder="MM/YY" required>
        </div>
        <div>
          <label for="card-cvc">CVC</label>
          <input type="text" id="card-cvc" placeholder="123" required>
        </div>
      </div>
      <div class="form-group">
        <label for="card-name">Name on Card</label>
        <input type="text" id="card-name" required>
      </div>
    </div>
  </div>
  
  <div class="checkout-summary">
    <h2>Order Summary</h2>
    
    <div class="checkout-items" id="checkout-items">
      <!-- Items will be populated by JavaScript -->
    </div>
    
    <div class="checkout-totals">
      <div class="checkout-total-row">
        <span>Subtotal</span>
        <span id="checkout-subtotal">$0.00</span>
      </div>
      <div class="checkout-total-row">
        <span>Shipping</span>
        <span id="checkout-shipping">$0.00</span>
      </div>
      <div class="checkout-total-row">
        <span>Tax</span>
        <span id="checkout-tax">$0.00</span>
      </div>
      <div class="checkout-total-row final">
        <span>Total</span>
        <span id="checkout-total">$0.00</span>
      </div>
    </div>
    
    <button class="place-order-button" id="place-order-button">Place Order</button>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Populate checkout summary
    function populateCheckoutSummary() {
      const itemsContainer = document.getElementById('checkout-items');
      const subtotalElement = document.getElementById('checkout-subtotal');
      const shippingElement = document.getElementById('checkout-shipping');
      const taxElement = document.getElementById('checkout-tax');
      const totalElement = document.getElementById('checkout-total');
      
      // Get cart items from localStorage
      const cartData = localStorage.getItem('rozaBridalCart');
      if (!cartData) {
        window.location.href = '{{ site.baseurl }}/'; // Redirect to home if cart is empty
        return;
      }
      
      const cartItems = JSON.parse(cartData);
      if (cartItems.length === 0) {
        window.location.href = '{{ site.baseurl }}/'; // Redirect to home if cart is empty
        return;
      }
      
      // Populate items
      itemsContainer.innerHTML = cartItems.map(item => `
        <div class="checkout-item">
          <img src="${item.image}" alt="${item.name}" class="checkout-item-image">
          <div class="checkout-item-details">
            <h4>${item.name}</h4>
            <div class="checkout-item-price">$${item.price.toFixed(2)}</div>
            <div class="checkout-item-meta">Size: ${item.size} | Qty: ${item.quantity}</div>
          </div>
        </div>
      `).join('');
      
      // Calculate totals
      const subtotal = cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);
      const shipping = subtotal > 0 ? 15 : 0; // Free shipping after certain amount
      const tax = subtotal * 0.08; // 8% tax rate
      const total = subtotal + shipping + tax;
      
      // Update summary
      subtotalElement.textContent = '$' + subtotal.toFixed(2);
      shippingElement.textContent = '$' + shipping.toFixed(2);
      taxElement.textContent = '$' + tax.toFixed(2);
      totalElement.textContent = '$' + total.toFixed(2);
    }
    
    // Pre-fill form with user data if logged in
    function prefillFormWithUserData() {
      const userData = localStorage.getItem('rozaBridalUser');
      if (userData) {
        const user = JSON.parse(userData);
        
        // Fill email and name
        document.getElementById('checkout-email').value = user.email || '';
        document.getElementById('checkout-name').value = user.firstName + ' ' + user.lastName || '';
        
        // Fill saved shipping address if available
        if (user.shippingAddress) {
          document.getElementById('checkout-address').value = user.shippingAddress.address || '';
          document.getElementById('checkout-apartment').value = user.shippingAddress.apartment || '';
          document.getElementById('checkout-city').value = user.shippingAddress.city || '';
          document.getElementById('checkout-state').value = user.shippingAddress.state || '';
          document.getElementById('checkout-postal').value = user.shippingAddress.postal || '';
          document.getElementById('checkout-country').value = user.shippingAddress.country || '';
        }
      }
    }
    
    // Handle order submission
    function handleOrderSubmission() {
      const placeOrderButton = document.getElementById('place-order-button');
      
      placeOrderButton.addEventListener('click', function() {
        // In a real implementation, this would submit the order to a backend
        // For demo purposes, we'll just show a success message and clear the cart
        
        alert('Order placed successfully! Thank you for shopping with Roza Bridal.');
        
        // Clear cart
        localStorage.removeItem('rozaBridalCart');
        
        // Redirect to confirmation page
        window.location.href = '{{ site.baseurl }}/';
      });
    }
    
    // Initialize checkout page
    populateCheckoutSummary();
    prefillFormWithUserData();
    handleOrderSubmission();
  });
</script>---
layout: default
title: Checkout - Roza Bridal
---

<div class="checkout-container">
  <div class="checkout-form">
    <h2>Checkout</h2>
    
    <div class="checkout-section">
      <h3>Contact Information</h3>
      <div class="form-group">
        <label for="checkout-email">Email</label>
        <input type="email" id="checkout-email" required>
      </div>
      <div class="form-group">
        <label for="checkout-phone">Phone</label>
        <input type="tel" id="checkout-phone" required>
      </div>
    </div>
    
    <div class="checkout-section">
      <h3>Shipping Address</h3>
      <div class="form-group">
        <label for="checkout-name">Full Name</label>
        <input type="text" id="checkout-name" required>
      </div>
      <div class="form-group">
        <label for="checkout-address">Address</label>
        <input type="text" id="checkout-address" required>
      </div>
      <div class="form-group">
        <label for="checkout-apartment">Apartment, suite, etc. (optional)</label>
        <input type="text" id="checkout-apartment">
      </div>
      <div class="form-row">
        <div>
          <label for="checkout-city">City</label>
          <input type="text" id="checkout-city" required>
        </div>
        <div>
          <label for="checkout-state">State/Province</label>
          <input type="text" id="checkout-state" required>
        </div>
        <div>
          <label for="checkout-postal">Postal Code</label>
          <input type="text" id="checkout-postal" required>
        </div>
      </div>
      <div class="form-group">
        <label for="checkout-country">Country</label>
        <select id="checkout-country" required>
          <option value="">Select Country</option>
          <option value="US">United States</option>
          <option value="CA">Canada</option>
          <option value="GB">United Kingdom</option>
          <option value="AU">Australia</option>
          <!-- Add more countries as needed -->
        </select>
      </div>
    </div>
    
    <div class="checkout-section">
      <h3>Payment Method</h3>
      <div class="form-group">
        <label for="card-number">Card Number</label>
        <input type="text" id="card-number" placeholder="1234 5678 9012 3456" required>
      </div>
      <div class="form-row">
        <div>
          <label for="card-expiry">Expiration Date</label>
          <input type="text" id="card-expiry" placeholder="MM/YY" required>
        </div>
        <div>
          <label for="card-cvc">CVC</label>
          <input type="text" id="card-cvc" placeholder="123" required>
        </div>
      </div>
      <div class="form-group">
        <label for="card-name">Name on Card</label>
        <input type="text" id="card-name" required>
      </div>
    </div>
  </div>
  
  <div class="checkout-summary">
    <h2>Order Summary</h2>
    
    <div class="checkout-items" id="checkout-items">
      <!-- Items will be populated by JavaScript -->
    </div>
    
    <div class="checkout-totals">
      <div class="checkout-total-row">
        <span>Subtotal</span>
        <span id="checkout-subtotal">$0.00</span>
      </div>
      <div class="checkout-total-row">
        <span>Shipping</span>
        <span id="checkout-shipping">$0.00</span>
      </div>
      <div class="checkout-total-row">
        <span>Tax</span>
        <span id="checkout-tax">$0.00</span>
      </div>
      <div class="checkout-total-row final">
        <span>Total</span>
        <span id="checkout-total">$0.00</span>
      </div>
    </div>
    
    <button class="place-order-button" id="place-order-button">Place Order</button>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Populate checkout summary
    function populateCheckoutSummary() {
      const itemsContainer = document.getElementById('checkout-items');
      const subtotalElement = document.getElementById('checkout-subtotal');
      const shippingElement = document.getElementById('checkout-shipping');
      const taxElement = document.getElementById('checkout-tax');
      const totalElement = document.getElementById('checkout-total');
      
      // Get cart items from localStorage
      const cartData = localStorage.getItem('rozaBridalCart');
      if (!cartData) {
        window.location.href = '{{ site.baseurl }}/'; // Redirect to home if cart is empty
        return;
      }
      
      const cartItems = JSON.parse(cartData);
      if (cartItems.length === 0) {
        window.location.href = '{{ site.baseurl }}/'; // Redirect to home if cart is empty
        return;
      }
      
      // Populate items
      itemsContainer.innerHTML = cartItems.map(item => `
        <div class="checkout-item">
          <img src="${item.image}" alt="${item.name}" class="checkout-item-image">
          <div class="checkout-item-details">
            <h4>${item.name}</h4>
            <div class="checkout-item-price">$${item.price.toFixed(2)}</div>
            <div class="checkout-item-meta">Size: ${item.size} | Qty: ${item.quantity}</div>
          </div>
        </div>
      `).join('');
      
      // Calculate totals
      const subtotal = cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);
      const shipping = subtotal > 0 ? 15 : 0; // Free shipping after certain amount
      const tax = subtotal * 0.08; // 8% tax rate
      const total = subtotal + shipping + tax;
      
      // Update summary
      subtotalElement.textContent = '$' + subtotal.toFixed(2);
      shippingElement.textContent = '$' + shipping.toFixed(2);
      taxElement.textContent = '$' + tax.toFixed(2);
      totalElement.textContent = '$' + total.toFixed(2);
    }
    
    // Pre-fill form with user data if logged in
    function prefillFormWithUserData() {
      const userData = localStorage.getItem('rozaBridalUser');
      if (userData) {
        const user = JSON.parse(userData);
        
        // Fill email and name
        document.getElementById('checkout-email').value = user.email || '';
        document.getElementById('checkout-name').value = user.firstName + ' ' + user.lastName || '';
        
        // Fill saved shipping address if available
        if (user.shippingAddress) {
          document.getElementById('checkout-address').value = user.shippingAddress.address || '';
          document.getElementById('checkout-apartment').value = user.shippingAddress.apartment || '';
          document.getElementById('checkout-city').value = user.shippingAddress.city || '';
          document.getElementById('checkout-state').value = user.shippingAddress.state || '';
          document.getElementById('checkout-postal').value = user.shippingAddress.postal || '';
          document.getElementById('checkout-country').value = user.shippingAddress.country || '';
        }
      }
    }
    
    // Handle order submission
    function handleOrderSubmission() {
      const placeOrderButton = document.getElementById('place-order-button');
      
      placeOrderButton.addEventListener('click', function() {
        // In a real implementation, this would submit the order to a backend
        // For demo purposes, we'll just show a success message and clear the cart
        
        alert('Order placed successfully! Thank you for shopping with Roza Bridal.');
        
        // Clear cart
        localStorage.removeItem('rozaBridalCart');
        
        // Redirect to confirmation page
        window.location.href = '{{ site.baseurl }}/';
      });
    }
    
    // Initialize checkout page
    populateCheckoutSummary();
    prefillFormWithUserData();
    handleOrderSubmission();
  });
</script>
